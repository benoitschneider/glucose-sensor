# Implement the I2C driver for the ADS1115 ADC.

## Build Instructions

This code is designed for an ARM Cortex-M microcontroller using the STM32Cube HAL. To compile:

1.  **Toolchain:** Ensure you have an ARM GNU Toolchain installed (e.g., `gcc-arm-none-eabi`).
2.  **HAL:** You will need the STM32Cube HAL for your specific microcontroller (e.g., STM32L4xx HAL). This typically involves including the HAL source files and header paths in your project.
3.  **Project Setup:**
    *   Create a new project in your preferred IDE (e.g., STM32CubeIDE, Keil uVision, IAR Embedded Workbench) or a Makefile-based project.
    *   Include `main.c`, `i2c_driver.c`, `ads1115_driver.c` in your source files.
    *   Ensure the include paths for `config.h`, `i2c_driver.h`, `ads1115_driver.h`, and your STM32 HAL headers are correctly set.
    *   The `main.c` contains placeholder `SystemClock_Config`, `MX_GPIO_Init`, and `MX_I2C1_Init` functions. These should be replaced with the actual initialization code generated by STM32CubeMX for your specific board and I2C peripheral configuration. Pay close attention to the `I2C_MASTER_HANDLE` definition in `config.h` and the `extern I2C_HandleTypeDef hi2c1;` in `i2c_driver.c` and `main.c`.
    *   Link against the necessary HAL libraries.
4.  **Compilation Command (example for Makefile):**
    ```bash
    arm-none-eabi-gcc -mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16 \
    -DUSE_HAL_DRIVER -DSTM32L476xx \ # Adjust MCU define
    -I. -I./Inc -I./Drivers/STM32L4xx_HAL_Driver/Inc \ # Adjust include paths
    -g3 -Os -Wall -fmessage-length=0 \
    -ffunction-sections -fdata-sections -std=c99 \
    -MMD -MP -MF"$(@:%.o=%.d)" -MT"$(@:%.o=%.d)" \
    -c -o "main.o" "../Src/main.c" \
    -c -o "i2c_driver.o" "../Src/i2c_driver.c" \
    -c -o "ads1115_driver.o" "../Src/ads1115_driver.c"

    # Link step (example)
    arm-none-eabi-gcc -o project.elf main.o i2c_driver.o ads1115_driver.o \ 
    -TSTM32L476RG_FLASH.ld \ # Adjust linker script
    --specs=nosys.specs -Wl,--gc-sections -static -Wl,-Map=project.map \
    -mfloat-abi=hard -mfpu=fpv4-sp-d16
    ```
    (Adjust flags, include paths, linker script, and source files as per your project structure and MCU.)